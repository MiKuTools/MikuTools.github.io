(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1154:function(n,e){},1155:function(n,e){},1156:function(n,e){},1157:function(n,e,t){n.exports=t.p+"img/0de7336.png"},1158:function(n,e,t){n.exports=t.p+"img/6bb8d84.png"},1159:function(n,e,t){n.exports=t.p+"img/39a352f.png"},1160:function(n,e,t){n.exports=t.p+"img/00b2735.png"},1161:function(n,e,t){"use strict";var o=t(383);t.n(o).a},1162:function(n,e,t){(n.exports=t(3)(!1)).push([n.i,".cyberpunk2077 .nya-subtitle{margin-top:.9375rem}.cyberpunk2077 .canvas-container{border:.0625rem solid var(--t1)}.cyberpunk2077 .nya-radio{margin-right:.9375rem}",""])},1551:function(n,e,t){"use strict";t.r(e);t(18),t(51);var o,r=t(10),c=t(333);o=t(1153).fabric;var l={name:"Cyberpunk2077",data:function(){return{n:null,src:{logo_en:t(1157),logo_en_2:t(1158),logo_en_shadow:t(1159),logo_cn:t(1160)},style:"logo_en",logo:null,backgroundImage:null,canvas:null}},head:function(){return this.$store.state.currentTool.head},watch:{style:function(){this.n&&this.renderCanvas()}},mounted:function(){this.canvas=new o.Canvas(this.$refs.canvas)},methods:{handleChange:function(n){var e=this,t=n.target.files;if(!t.length)return!1;var o=t[0],c=new FileReader;c.readAsDataURL(o),c.addEventListener("load",Object(r.a)(regeneratorRuntime.mark(function n(){var image;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:(image=new Image).onload=function(){e.backgroundImage=image,e.$nextTick(e.renderCanvas)},image.src=c.result;case 3:case"end":return n.stop()}},n)})),!1)},renderCanvas:function(){var n=this;this.canvas.clear();var image=this.backgroundImage,e=this.$refs.box.offsetWidth,t=1;image.width>e?(this.canvas.setWidth(e),this.canvas.setHeight(e/image.width*image.height),t=e/image.width):(this.canvas.setWidth(image.width),this.canvas.setHeight(image.height)),this.getLogo().then(function(){var t=image.width/2/n.logo.width;image.width>e&&(t=e/2/n.logo.width);var r=new o.Image(n.logo,{scaleX:t,scaleY:t,left:0,top:0});n.canvas.add(r),r.centerH(),n.canvas.renderAll()});var r=new o.Image(image,{scaleX:t,scaleY:t,left:0,top:0,selectable:!1});this.canvas.setBackgroundImage(r)},getLogo:function(){var n=this;return new Promise(function(e,t){var image=new Image;image.onload=function(){n.logo=image,e(image)},image.onerror=t,image.src=n.src[n.style]})},save:function(){if(!this.n)return!1;this.canvas.lowerCanvasEl.toBlob(function(n){Object(c.a)(URL.createObjectURL(n),"Cyberpunk_2077.png")})}}},d=(t(1161),t(2)),component=Object(d.a)(l,function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"cyberpunk2077"},[t("nya-container",{attrs:{title:"Cyberpunk 2077 图片制作"}},[t("div",{staticClass:"inputbtn"},[t("nya-input",{attrs:{type:"file",accept:"image/*",label:"请选择要制作的图片",placeholder:"点击这里上传文件"},on:{change:n.handleChange},model:{value:n.n,callback:function(e){n.n=e},expression:"n"}}),n._v(" "),t("button",{staticClass:"nya-btn",attrs:{type:"button"},on:{click:n.save}},[n._v("\n                保存\n            ")])],1),n._v(" "),t("div",{staticClass:"nya-subtitle"},[n._v("\n            选择 Logo 样式\n        ")]),n._v(" "),t("div",{staticClass:"radio-group"},[t("nya-radio-group",{model:{value:n.style,callback:function(e){n.style=e},expression:"style"}},[t("nya-radio",{attrs:{value:"logo_en",label:"英文"}}),n._v(" "),t("nya-radio",{attrs:{value:"logo_en_2",label:"英文2"}}),n._v(" "),t("nya-radio",{attrs:{value:"logo_en_shadow",label:"英文带阴影"}}),n._v(" "),t("nya-radio",{attrs:{value:"logo_cn",label:"中文"}})],1)],1)]),n._v(" "),t("nya-container",{directives:[{name:"show",rawName:"v-show",value:n.n,expression:"n"}],attrs:{title:"预览"}},[t("div",{ref:"box",staticClass:"box"},[t("canvas",{ref:"canvas"})])])],1)},[],!1,null,null,null);e.default=component.exports},333:function(n,e,t){"use strict";e.a=function(n,e){var a=document.createElement("a");a.href=n,a.download=e,a.click()}},383:function(n,e,t){var content=t(1162);"string"==typeof content&&(content=[[n.i,content,""]]),content.locals&&(n.exports=content.locals);(0,t(4).default)("515705b7",content,!0,{sourceMap:!1})}}]);